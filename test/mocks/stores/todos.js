import { jest } from '@jest/globals'
import uuid4 from 'uuid4'
import { ALL, COMPLETE, INCOMPLETE, PER_PAGE } from '@/utils/constants.js'

export const todos = {
  namespaced: true,
  state: {
    list: [],
    currentTasks: [],
    isTodoListLoading: false,
    isCreating: false,
    isSearching: false,
    searchKey: '',
    editableTodo: null,
    limit: PER_PAGE,
    taskStates: [ALL, COMPLETE, INCOMPLETE],
    currentTaskState: ALL,
    isLoadedMore: false,
    isTodoAdding: false,
    isTodoUpdating: false,
    isTodoCompleting: false,
    isTodoDeleting: false,
  },

  getters: {
    todos: () => {},
    isTodoCreating: () => {},
    editingTodo: () => {
      return {
        id: uuid4(),
        title: 'Test title',
        isLoading: false,
        isEditing: true,
        isCompleted: false,
        completedAt: null,
        createdAt: new Date(),
      }
    },
    hasMoreTodos: () => {},
    getTaskStates: (state) => [ALL, COMPLETE, INCOMPLETE],
    getCurrentTaskState: () => {},
    isLoadedMore: () => {},
    isTodoSearching: () => {},
    isTodoListLoading: (state) => state.isTodoListLoading,
    isButtonDisabled: () => {},
    isTodoAdding: () => {},
    isTodoUpdating: () => {},
    searchKey: () => {},
  },

  mutations: {
    ADD_TODO: jest.fn(),
    SET_IS_CREATING: jest.fn(),
    REMOVE_TODO: jest.fn(),
    UPDATE_TODO: jest.fn(),
    COMPLETE_TODO: jest.fn(),
    UPDATE_COMPLETE_TODO: jest.fn(),
    SET_EDITABLE_TODO: jest.fn(),
    INCREMENT_PAGINATION_LIMIT: jest.fn(),
    SET_LOAD_MORE: jest.fn(),
    SET_CURRENT_TASK_STATE: jest.fn(),
    SET_CURRENT_TASKS: jest.fn(),
    SET_SEARCH_KEY: jest.fn(),
    RESET_PAGINATION_LIMIT: jest.fn(),
    CHECK_LOAD_MORE: jest.fn(),
    SET_IS_SEARCHING: jest.fn(),
    SET_IS_TODO_LIST_LOADING: jest.fn(),
    SET_ALL_TODOS: jest.fn(),
    SET_IS_TODO_ADDING: jest.fn(),
    SET_IS_TODO_UPDATING: jest.fn(),
    SET_IS_TODO_COMPLETING: jest.fn(),
    SET_IS_TODO_DELETING: jest.fn(),
    SET_IS_TODO_LOADING: jest.fn(),
  },

  actions: {
    add: jest.fn(),
    deleteCurrentTask: jest.fn(),
    setIsCreating: jest.fn(),
    delete: jest.fn(),
    update: jest.fn(),
    complete: jest.fn(),
    completeAndUpdate: jest.fn(),
    setEditableTodo: jest.fn(),
    loadMoreTodos: jest.fn(),
    showLessTodos: jest.fn(),
    setCurrentTaskState: jest.fn(),
    setSearchStatus: jest.fn(),
    searchTasksByTitle: jest.fn(),
    fetchAllTodos: jest.fn(),
    resetSearchKey: jest.fn(),
  },
}
